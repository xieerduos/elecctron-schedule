<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>抖音@程序员李钟意 黑客代码雨</title>
        <style>
            html,
            body,
            canvas {
                display: block;
                margin: 0;
                padding: 0;
                height: 100vh;
                width: 100vw;
            }
        </style>
    </head>

    <body>
        <canvas id="canvas"></canvas>
        <script>
            const width = (document.getElementById('canvas').width =
                window.innerWidth);
            const height = (document.getElementById('canvas').height =
                window.innerHeight);
            const ctx = document.getElementById('canvas').getContext('2d');
            const arr = Array(Math.ceil(width / 10)).fill(0);
            const str = '抖音@程序员李钟意'.split('');

            function rain() {
                ctx.fillStyle = 'rgba(0,0,0,0.06)';
                ctx.fillRect(0, 0, width, height);
                ctx.fillStyle = '#0f0';
                ctx.font = '16px Arial';
                arr.forEach(function (value, index) {
                    ctx.fillText(
                        str[Math.floor(Math.random() * str.length)],
                        index * 10,
                        value + 18
                    );
                    arr[index] =
                        value >= height || value > 66666 * Math.random()
                            ? 0
                            : value + 18;
                });
            }
            setInterval(rain, 30);
        </script>
    </body>
</html>
